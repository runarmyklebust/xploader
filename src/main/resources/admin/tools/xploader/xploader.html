<html>
<head>
    <title>xpLoader</title>

    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet" type="text/css" href="{{assetsUrl}}/css/main.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.8/css/materialize.min.css">

    <script src="http://code.jquery.com/jquery-1.12.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.8/js/materialize.min.js"></script>

    <!--Import Google Icon Font-->
    <link href="http://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

    <script src="{{jsUrl}}"></script>
    <script>
        var dataLoaderService = '{{dataLoaderService}}';
        var parserServiceUrl = '{{parserServiceUrl}}';
        var statusServiceUrl = '{{statusServiceUrl}}';
        var createRepoServiceUrl = '{{createRepoServiceUrl}}';
        var deleteRepoServiceUrl = '{{deleteRepoServiceUrl}}';
        var listRepoServiceUrl = '{{listRepoServiceUrl}}';
        var getJobsServiceUrl = '{{getJobsServiceUrl}}';
    </script>

</head>
<body>

<nav>
    <div class="nav-wrapper blue">
        <a href="#" class="brand-logo right">xpLoader</a>
        <ul id="nav-mobile" class="left hide-on-med-and-down">
            <li><a href="#" onclick="toggleLoadTab()">Load</a></li>
            <li><a href="#" onclick="toggleRepoTab()">Manage repositories</a></li>
            <li><a href="#" onclick="toggleJobsTab()">Jobs <span id="jobsCounter" class="jobsCounter">2</span></a></li>
        </ul>
    </div>
</nav>


<div id="loadTab">
    <div class="row">
        <form name="fileForm" id="loaderForm" action="{{dataLoaderService}}" method="post" enctype="multipart/form-data">
            <div class="col s12 m4 l3 importSelector">
                <h2>Select file for upload</h2>
                <div class="file-field input-field">
                    <div class="btn waves-effect waves-light btn-large blue lighten-1">
                        <i class="material-icons left">view_headline</i>
                        <span>File</span>
                        <input type="file" name="file" id="fileinput">
                    </div>
                    <div class="file-path-wrapper">
                        <input class="file-path validate" type="text" onchange="fileUploaded();">
                    </div>
                </div>

                <div class="row">
                    <div id="selectRepoList" class="input-field">
                        <h2>Select repository</h2>
                        <select id="selectRepoId" name="selectRepoId">Choose repository</select>
                    </div>
                </div>

                <div class="row" id="gcsSelectorDiv">
                    <h2>Geographic coordinate system</h2>
                    <div class="input-field col 12s">
                        <select id="gcsSelector" name="gcsSelector" onchange="showGCSSelector(this)">
                            <option value="WGS84-deg">GPS-WGS84 (deg)</option>
                            <option value="WGS84-UTM">GPS-UTM/EUREF89</option>
                        </select>
                        <div id="WGS84-deg" class="input-field col 6s"></div>
                        <div id="WGS84-UTM" class="input-field col 6s">
                            <input name="wsg84UtmLongitudeZone" id="wsg84UtmLongitudeZone" placeholder="Longitude Zone (e.g 33)"
                                   type="number"
                                   class="validate">
                            <input name="wsg84UtmLatitudeZone" id="wsg84UtmLatitudeZone" placeholder="Latitude Zone (e.g N/E)" type="text"
                                   class="validate">
                            <input name="wsg84UtmUnit" id="wsg84UtmUnit" placeholder="Unit (m|km)" type="text" class="validate">
                        </div>
                    </div>
                </div>
                <button type="button" id="loadBtn" class="waves-effect waves-light btn-large"><i
                        class="material-icons left">open_in_browser</i>Load
                </button>
            </div>

            <div class="col s12 m8 l9">
                <div class="row">
                    <div id="fieldsList" class="col 12s fieldsList"></div>
                </div>
            </div>
        </form>
    </div>
</div>

<div id="repoTab">
    <div class="row">
        <div id="selectRepo" class="col s6">
            <h4>Manage repository</h4>
            <select id="deleteRepoId" selected>Choose repository</select>
            <button id="deleteRepoButton" class="upload-button">Delete</button>
        </div>
        <div id="showRepo" class="col s6">
            <div class="row" id="showRepoDiv">
                <h5>Number of entries:</h5>
            </div>
        </div>
    </div>
    <div class="row">
        <div id="createRepo" class="col s6">
            <h4>Create repository</h4>
            <input id="repoIdInput" type="text" placeholder="<new repository id>">
            <button id="createRepoButton" class="upload-button">Create</button>
        </div>
    </div>
</div>
<div id="jobsTab">
    <div class="row">
        <div class="jobsListing col 12s">
            <h2>Jobs:</h2>
            <div class="runningJobs" id="runningJobs">
            </div>
        </div>
    </div>
</div>

<div id="messageBox" class="messageBox">
    <span id="repoMessage"></span>
</div>

</body>
</html>
