<html>
<head>
    <title>xpLoader</title>

    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet" type="text/css" href="{{assetsUrl}}/css/main.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.8/css/materialize.min.css">

    <script src="http://code.jquery.com/jquery-1.12.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.8/js/materialize.min.js"></script>

    <script src="{{jsUrl}}"></script>
    <script>
        var dataLoaderService = '{{dataLoaderService}}';
        var parserServiceUrl = '{{parserServiceUrl}}';
        var statusServiceUrl = '{{statusServiceUrl}}';
        var createRepoServiceUrl = '{{createRepoServiceUrl}}';
        var deleteRepoServiceUrl = '{{deleteRepoServiceUrl}}';
        var listRepoServiceUrl = '{{listRepoServiceUrl}}';
    </script>

</head>
<body>

<nav>
    <div class="nav-wrapper blue">
        <a href="#" class="brand-logo right">xpLoader</a>
        <ul id="nav-mobile" class="left hide-on-med-and-down">
            <li><a href="#" onclick="toogleLoadManager()">Load</a></li>
            <li><a href="#" onclick="toggleRepoManager()">Manage repositories</a></li>
        </ul>
    </div>
</nav>


<div id="loadManager">

    <div class="row">
        <form class="col s12" name="fileForm" action="{{dataLoaderService}}" method="post" enctype="multipart/form-data">
            <h4>Select file for upload</h4>
            <div class="file-field input-field">
                <div class="btn">
                    <span>File</span>
                    <input type="file" name="file" id="fileinput">
                </div>
                <div class="file-path-wrapper">
                    <input class="file-path validate" type="text" onchange="fileUploaded();">
                </div>
            </div>

            <div class="row">
                <div id="fieldsList" class="col 12s"></div>
            </div>


            <div class="row">
                <div id="selectRepoList" class="input-field col s6">
                    <h4>Select repository</h4>
                    <select id="selectRepoId" name="selectRepoId">Choose repository</select>
                </div>
            </div>

            <button class="btn light-blue darken-4" type="submit" name="action">Load</button>
        </form>
    </div>
    <!--
    <div class="row">
        <div class="col 12s">
            <label>Format</label><br>
            <input type="text" name="format" placeholder="A comma separated format of fields that descriped ">
            <button type="submit" name="upload" class="upload-button">Upload</button>
        </div>
    </div>
    -->

</div>


<div id="repoManager">
    <div class="row">
        <div id="createRepo" class="col s6">
            <h4>Create repository</h4>
            <input id="repoIdInput" type="text" placeholder="<new repository id>">
            <button id="createRepoButton" class="upload-button">Create</button>
        </div>
    </div>
    <div class="row">
        <div id="deleteRepoList" class="input-field col s6">
            <h4>Delete repository</h4>
            <select id="deleteRepoId" selected>Choose repository</select>
            <button id="deleteRepoButton" class="upload-button">Delete</button>
        </div>
    </div>
</div>

<div id="messageBox" class="messageBox">
    <span id="repoMessage"></span>
</div>

</body>
</html>
